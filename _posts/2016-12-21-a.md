---
layout: post
title: Thread Stack 2
excerpt: "thread Stack2"
categories: [paragraph]
comments: true
---

---

### thread Stack에 관한 의문점들

-xss 옵션에서 스레드 스택의 크기를 조정

default 값으로 JVM이나 프로세서에 따라 다르게 지정되어있지만

보통 512k ~ 1MB 정도 지정되어있다.

#### __왜 스택영역의 크기를 고정시키나요??????__

혹시 컴파일시 크기가 결정이 된다면 고정크기의...

전달되는 인자값들이 실제로 1Mb 이하이면

만약 오브젝트는 저장이 안된다고 하면 파일영역의 주소값을 가지는건가...?

값을 호출하는지,,, 주소를 호출하는지.....

call by value,,, java는 값에의한 호출인가..?

조금더 정리가 필요할 것 같습니다.

---

- 크기를 작게 하면 stack over flow 오류 발생

-> 이해가 갑니다. 고정된 작은 크기의 stack영역을 사용한다면  지역변수나, 매개변수 등을 수용을 하지 못하여서 그럴수 있다고 생각합니다. (thread당 stack의 전체크기는 정해져 있으니)


- 스레드가 무한정 늘어나면 out of memory 오류 발생

-> 왜이럴까요???????

메모리에 올라간 프로세스의 크기는 처음부터 정해져 있는지 아니면 스택이 쌓이거나 하면서 늘어나는지에 대한 의문이 있습니다...... 그래서 정확히 이해가 안갑니다.

![메모리](http://cfile10.uf.tistory.com/image/1457D2474E426B401DA152)

 위의 그림에서 본다면 0x0100 ~ 0x8000 의 값을 가지는 프로세스인지... 정확히 이해가 안갑니다. out of memory 가 어떤의미에서 발생하는지 모르겠습니다.

 프로세스에 대한 메모리 할당영역이 유동적으로 변하는것이 가능하여 stack이 총 메모리를 벗어나게되어 발생하는지, 프로세스에 대한 총 메모리영역이 정해져 있으며 단순히 그 범위만을 벗어나는것인지에 대한 의문이 있습니다.

조금더 찾아봐야겠습니다......

```
 함수호출,, 스텍영역에 대하여

 가장 간단한 예로 함수 호출을 생각해 보면, 함수를 호출하면 일단
현재 상태의 레지스터값을 저장해야하고, 함수를 호출할때 인자등을 건네
줘야합니다.

그것을 stack에 저장을 합니다. 그런 후 호출된 함수의 context쪽으로 들어
가겠지요... 여기서도 임시 저장공간으로 스택을 사용합니다.

그리고 계산을 다 한후 원래의 함수로 리턴을 해야하는데, 여기서 스택의
사용용도를 알 수가 있습니다.

일단 호출된 함수에서 사용한 값들은 다 사용을 했으니 리턴값을 빼고는 다
필요없으니 다 뽑아버리고요...

호출한 함수로 돌아가야 되니 함수호출하기 전에 저장했던 놈들을 다시
뽑아내야 되겠지요...

그래서 LIFO의 형태가 되야 하는 겁니다.
```

[out of memory에 대한 설명](http://www.nextree.co.kr/p3878/)
